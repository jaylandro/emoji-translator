<!doctype html>
<html lang="en-US" style="background: url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAQAAAAeAQMAAAAxci3AAAAABlBMVâ€¦AJcEhZcwAADsQAAA7EAZUrDhsAAAANSURBVAiZY2AgGzwAAAEcAOFHPV40AAAAAElFTkSuQmCC) repeat left top;">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <title>Emoji Translator</title>
  <link rel="shortcut icon" href="favicon.ico">
  <link rel="icon" href="favicon.ico">
  <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/cutestrap/1.3.1/css/cutestrap.min.css">
  
</head>

<body>
<h1>&#x1F354 Emoji Translator</h1>

<form id="et">
  <label class="textfield">
    <input type="text" id="emojify" name="translate">
    <span class="textfield__label">Emojify me!</span>
  </label>
  <button type="submit">Submit</button>
</form>
<h2 id="results"></h2>
 <style>
  body {
    padding: 1em;
  }
 </style>
 <script>
  const form = document.getElementById("et");
  const emojiInput = document.getElementById("emojify");
  const results = document.getElementById("results");
  
  function postData(url = '/api/translate', data = emojiInput.value) {
    event.preventDefault();
    return fetch(url, {
        method: "POST",
        headers: {
            "Content-Type": "application/json; charset=utf-8",
        },
        body: JSON.stringify(data),
    })
    .then(response => {
      return response.json()
    })
    .then(data => {
      results.innerHTML = data;
    })
    .catch(error => console.error(error));
  }
  
  // attach event listener
  form.addEventListener("submit", postData, true);
 </script>
</body>

</html>